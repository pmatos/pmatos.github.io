@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Dark mode toggle button */
  .dark-toggle {
    @apply fixed top-4 right-4 z-50 p-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg hover:shadow-xl transition-all cursor-pointer;
  }
  
  .dark-toggle svg {
    @apply w-5 h-5 text-slate-600 dark:text-slate-300 hover:text-slate-900 dark:hover:text-white transition-colors;
  }
  
  html {
    @apply px-5 bg-slate-50 dark:bg-slate-900 font-serif text-base text-slate-900 dark:text-slate-50 transition-all duration-300;
  }
  
  body {
    @apply container mx-auto min-h-screen;
  }
  header,
  main,
  article,
  footer {
    @apply py-8 px-0;
  }
  
  header,
  footer {
    @apply border-slate-200 dark:border-slate-700;
  }
  
  header {
    @apply flex items-center justify-between gap-6 flex-col border-b bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm;
  }
  
  hgroup {
    @apply inline-block align-middle hover:text-sky-600 dark:hover:text-sky-400 transition-colors duration-200;
  }
  
  .title {
    @apply text-center font-extrabold text-3xl text-slate-800 dark:text-slate-100;
  }
  
  .motto {
    @apply tracking-wide text-center text-slate-600 dark:text-slate-400;
  }
  nav {
    @apply text-center items-center;
  }
  
  nav > ul {
    @apply flex flex-row gap-6;
  }
  
  nav li {
    @apply cursor-pointer tracking-wide relative;
  }
  
  nav li a {
    @apply flex items-center gap-2 px-3 py-2 rounded-md transition-all duration-200 text-slate-700 dark:text-slate-300;
  }
  
  nav li:hover a,
  nav li:focus a,
  nav li:focus-within a {
    @apply bg-sky-50 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300;
  }
  
  nav .active a {
    @apply bg-sky-100 dark:bg-sky-900/50 text-sky-800 dark:text-sky-200 font-semibold;
  }
  
  .rss-icon {
    @apply w-3 h-3 text-orange-500 dark:text-orange-400 mr-1 inline;
  }
  main,
  article {
    @apply prose prose-slate dark:prose-invert prose-lg 
           prose-headings:text-slate-900 dark:prose-headings:text-slate-100
           prose-p:text-slate-700 dark:prose-p:text-slate-300
           prose-li:text-slate-700 dark:prose-li:text-slate-300
           prose-lead:text-slate-600 dark:prose-lead:text-slate-400 prose-lead:font-light
           prose-a:text-sky-600 dark:prose-a:text-sky-400 prose-a:no-underline hover:prose-a:underline
           prose-code:text-pink-600 dark:prose-code:text-pink-400
           prose-pre:bg-slate-800 dark:prose-pre:bg-slate-900
           mx-auto text-justify my-4;
  }
  h1,
  article > small.info {
    @apply text-center block w-full;
  }
  small + h1 {
    @apply mt-2;
  }
  .elenco-posts {
    @apply flex flex-col gap-5 divide-y divide-solid divide-zinc-300 dark:divide-zinc-800 list-none list-outside pl-0;
  }
  .posts > h2 > a {
    @apply no-underline font-extrabold;
  }
  footer {
    @apply border-t border-slate-200 dark:border-slate-700 flex flex-col-reverse justify-between gap-6 
           bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm mt-12;
  }
  
  .credit {
    @apply grow text-center text-slate-600 dark:text-slate-400;
  }
  
  .social {
    @apply flex flex-row gap-6 grow justify-evenly;
  }
  
  .icon {
    @apply h-6 w-6 stroke-1 stroke-slate-600 dark:stroke-slate-400 transition-all duration-200;
  }
  
  .icon:hover,
  .icon:focus,
  .icon:focus-within {
    @apply stroke-sky-600 dark:stroke-sky-400 transform scale-110;
  }
  
  /* Link log specific styles - Enhanced for better readability */
  .linklog-entry {
    @apply border border-slate-200 dark:border-slate-700 rounded-lg p-6 mb-6
           bg-white dark:bg-slate-800 shadow-sm hover:shadow-md
           border-l-4 border-l-sky-500 dark:border-l-sky-400
           transition-all duration-200;
  }
  
  .linklog-entry:hover {
    @apply transform translate-y-[-2px] shadow-lg;
  }
  
  .linklog-entry h2 {
    @apply text-xl font-bold mb-3 text-slate-900 dark:text-slate-100 leading-tight;
  }
  
  .linklog-entry h2 a {
    @apply text-slate-900 dark:text-slate-100 no-underline hover:text-sky-600 dark:hover:text-sky-400 transition-colors;
  }
  
  .linklog-summary {
    @apply text-base leading-relaxed text-slate-700 dark:text-slate-300 mb-4 not-italic;
  }
  
  .linklog-meta {
    @apply mt-4 pt-3 border-t border-slate-100 dark:border-slate-700;
  }
  
  .linklog-entry .info {
    @apply flex flex-wrap items-center gap-2 text-sm text-slate-500 dark:text-slate-400 mb-3;
  }
  
  .external-link {
    @apply text-sm text-slate-500 dark:text-slate-400 flex items-center gap-2;
  }
  
  .external-link a {
    @apply text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 no-underline transition-colors;
  }
  
  .tag {
    @apply inline-block bg-sky-100 dark:bg-sky-900/50 text-sky-800 dark:text-sky-200 
           px-2 py-1 text-xs rounded-full font-medium hover:bg-sky-200 dark:hover:bg-sky-900 transition-colors;
  }
  
  .no-entries {
    @apply text-center italic text-slate-500 dark:text-slate-400 py-12;
  }
}

@layer utilities {

  /* Default (light mode) */
  img[src$=".svg"] {
    filter: none;
  }

  /* Dark mode */
  @media (prefers-color-scheme: dark) {
    img[src$=".svg"] {
      filter: invert(1) brightness(2);
      /* Invert the colors for dark mode */
    }
  }
}
@media screen(sm) {
  html {
    @apply px-6 text-lg;
  }
  header {
    @apply gap-6;
  }
  header,
  main,
  article,
  footer {
    @apply py-7 px-3;
  }
  main,
  article {
    @apply my-2.5;
  }
  .title {
    @apply text-4xl;
  }
  .motto {
    @apply text-center;
  }
  .elenco-posts {
    @apply gap-6;
  }
}

@media screen(md) {
  html {
    @apply px-7 text-xl;
  }
  header {
    @apply gap-7 flex-row;
  }
  header,
  main,
  article,
  footer {
    @apply py-8 px-4;
  }
  .title {
    @apply text-left text-5xl;
  }
  .motto {
    @apply text-left;
  }
  nav {
    @apply text-right items-center;
  }
  nav > ul {
    @apply flex-col gap-0;
  }
  main,
  article {
    @apply my-3;
  }
  h1,
  article > small.info {
    @apply text-left;
  }
  .elenco-posts {
    @apply gap-7;
  }
  footer {
    @apply flex-row;
  }
  .credit {
    @apply grow-0 text-center;
  }
  .social {
    @apply grow-0 gap-7 justify-end;
  }
}

@media screen(xl) {
  html {
    @apply px-8 text-xl;
  }
  header,
  main,
  article,
  footer {
    @apply py-9 px-4;
  }
  main,
  article {
    @apply max-w-screen-md my-4;
  }
  .social {
    @apply grow-0 gap-8 justify-end;
  }
}

@media screen(2xl) {
  html {
    @apply px-9 text-xl;
  }
  header,
  main,
  article,
  footer {
    @apply py-10 px-5;
  }
  main,
  article {
    @apply max-w-screen-lg my-5;
  }
  .social {
    @apply grow-0 gap-9 justify-end;
  }
}
